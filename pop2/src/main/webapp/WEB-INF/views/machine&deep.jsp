<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>    
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Unika - Responsive One Page HTML5 Template</title>
<meta name="description"
	content="Unika - Responsive One Page HTML5 Template">
<meta name="keywords"
	content="HTML5, Bootsrtrap, One Page, Responsive, Template, Portfolio" />
<meta name="author" content="imransdesign.com">

<!-- Mobile Metas -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Google Fonts  -->
<link href='http://fonts.googleapis.com/css?family=Roboto:400,700,500'
	rel='stylesheet' type='text/css'>
<!-- Body font -->
<link href='http://fonts.googleapis.com/css?family=Lato:300,400'
	rel='stylesheet' type='text/css'>
<!-- Navbar font -->

<!-- Libs and Plugins CSS -->
<link rel="stylesheet" href="resources/inc/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="resources/inc/animations/css/animate.min.css">
<link rel="stylesheet" href="resources/inc/font-awesome/css/font-awesome.min.css">
<!-- Font Icons -->



<link rel="stylesheet" href="resources/css/boardstyle.css">
<link rel="stylesheet" href="resources/css/gnb.css">
<link rel="stylesheet" href="resources/css/outline.css">
<link rel="stylesheet" href="resources/css/visit.css">
<link rel="stylesheet" href="resources/css/notice.css">

<!-- Theme CSS -->
<link rel="stylesheet" href="resources/css/reset.css">
<link rel="stylesheet" href="resources/css/style.css">
<link rel="stylesheet" href="resources/css/mobile.css">
<link rel="stylesheet" href="resources/css/button.css">

<link rel="stylesheet" href="resources/css/skin/cool-gray.css">

<style>






</style>


</head>
<body data-spy="scroll" data-target="#main-navbar">


		<!--========== BEGIN HEADER ==========-->
		<header id="header" class="header-main">

			<!-- Begin Navbar -->
			<nav id="main-navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
				<!-- Classes: navbar-default, navbar-inverse, navbar-fixed-top, navbar-fixed-bottom, navbar-transparent. Note: If you use non-transparent navbar, set "height: 98px;" to #header -->
				<div class="container">
					<!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span> 
							<span class="icon-bar"></span> <span class="icon-bar"></span><span class="icon-bar"></span>
						</button>
						<a class="navbar-brand page-scroll" href="index">Unika</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse"
						id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav navbar-right">
							<li><a class="page-scroll" href="index">Home</a></li>
							<li><a class="page-scroll" href="#">login</a></li>
						</ul>
					</div>
					<!-- /.navbar-collapse -->

				</div>
				<!-- /.container -->
								
				<div id="hd">
					<div class="container1">
						<nav id="gnb">
							<h2>메인메뉴</h2>
							<div class="gnb_wrap">
								<ul id="gnb_1dul">
									<li class="gnb_1dli gnb_mnal"><button type="button"
											class="gnb_menu_btn" title="전체메뉴">
											<i class="fa fa-bars" aria-hidden="true"></i><span
												class="sound_only">전체메뉴열기</span>
										</button></li>
									<li class="gnb_1dli gnb_al_li_plus" style="z-index: 999">
										<a href="#" target="_self" class="gnb_1da">코딩연구실</a> <span
										class="bg">하위분류</span>
									<div class="gnb_2dul">
											<ul class="gnb_2dul_box">
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">머신/딥러닝</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">자바</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">자바스크립트</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">JSP</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">데이터베이스</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">웹</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">크롤링</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">리눅스</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">파이썬</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">라즈베리파이</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">스프링</a></li>
											</ul>
										</div>
									</li>
									<li class="gnb_1dli " style="z-index: 998"><a href="#"
										target="_self" class="gnb_1da">페이지1</a></li>
									<li class="gnb_1dli " style="z-index: 997"><a href="#"
										target="_self" class="gnb_1da">페이지2</a></li>
									<li class="gnb_1dli " style="z-index: 996"><a href="#"
										target="_self" class="gnb_1da">페이지3</a></li>
									<li class="gnb_1dli gnb_al_li_plus" style="z-index: 995">
										<a href="#" target="_self" class="gnb_1da">페이지4</a> <span
										class="bg">하위분류</span>
									<div class="gnb_2dul">
											<ul class="gnb_2dul_box">
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">하1</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">하2</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">하3</a></li>
												<li class="gnb_2dli"><a href="#" target="_self"
													class="gnb_2da">하4</a></li>
											</ul>
										</div>
									</li>
									<li class="gnb_1dli " style="z-index: 994"><a href="#" target="_self" class="gnb_1da">페이지5</a></li>
								</ul>
								<div id="gnb_all">
									<h2>전체메뉴</h2>
									<ul class="gnb_al_ul">
										<li class="gnb_al_li"><a href="#" target="_self"
											class="gnb_al_a">코딩연구실</a>
											<ul>
												<li><a href="#/Python" target="_self">머신/딥러닝</a></li>
												<li><a href="#" target="_self">자바</a></li>
												<li><a href="#" target="_self">자바스크립트</a></li>
												<li><a href="#" target="_self">JSP</a></li>
												<li><a href="#" target="_self">데이터베이스</a></li>
												<li><a href="#" target="_self">웹</a></li>
												<li><a href="#" target="_self">크롤링</a></li>
												<li><a href="#" target="_self">리눅스</a></li>
												<li><a href="#" target="_self">파이썬</a></li>
												<li><a href="#" target="_self">라즈베리파이</a></li>
												<li><a href="#" target="_self">스프링</a></li>
											</ul></li>
										<li class="gnb_al_li"><a href="#" target="_self"
											class="gnb_al_a">페이지1</a></li>
										<li class="gnb_al_li"><a href="#" target="_self"
											class="gnb_al_a">페이지2</a></li>
										<li class="gnb_al_li"><a href="#" target="_self"
											class="gnb_al_a">페이지3</a></li>
										<li class="gnb_al_li"><a href="#" target="_self"
											class="gnb_al_a">페이지4</a>
											<ul>
												<li><a href="#" target="_self">하1</a></li>
												<li><a href="#" target="_self">하2</a></li>
												<li><a href="#" target="_self">하3</a></li>
												<li><a href="#" target="_self">하4</a></li>
											</ul></li>
										<li class="gnb_al_li"><a href="#" target="_self"
											class="gnb_al_a">페이지5</a></li>
									</ul>
									<button type="button" class="gnb_close_btn">
										<i class="fa fa-times" aria-hidden="true"></i>
									</button>
								</div>
								<div id="gnb_all_bg"></div>
							</div>
						</nav>
					</div>
				</div>
				
				
				<!-- 콘텐츠 시작 { -->
				<div id="wrapper" style="background-color: #fff;">
					<div id="container1_wr">

						<div id="container1">
							<h2 id="container1_title">
								<span title="머신러닝&딥러닝 1 페이지">머신러닝&딥러닝</span>
							</h2>
							<!-- 게시판 목록 시작 { -->
							<div id="bo_list" style="width: 100%">

								<!-- 게시판 카테고리 시작 { -->
								<!-- } 게시판 카테고리 끝 -->

								

									<input type="hidden" name="bo_table" value="Python">
									<input type="hidden" name="sfl" value="">
									<input type="hidden" name="stx" value="">
									<input type="hidden" name="spt" value="">
									<input type="hidden" name="sca" value="">
									<input type="hidden" name="sst" value="wr_num, wr_reply">
									<input type="hidden" name="sod" value="">
									<input type="hidden" name="page" value="1">
									<input type="hidden" name="sw" value="">

									<!-- 게시판 페이지 정보 및 버튼 시작 { -->
									<div id="bo_btn_top">
										<div id="bo_list_total">
											<span>Total 1건</span> 1 페이지
										</div>

										<ul class="btn_bo_user">
											<li>
												<button type="button" class="btn_bo_sch btn_b01 btn" title="게시판 검색">
													<i class="fa fa-search" aria-hidden="true"></i><span
														class="sound_only">게시판 검색</span>
												</button>
											</li>
										</ul>
									</div>
									<!-- } 게시판 페이지 정보 및 버튼 끝 -->

									<div id="body1" class="panel-body" style="display: block">    
									</div>
									<div id="body2" class="panel-body" style="display: none">
									
									   <form class="form-horizontal" id="frm">
									   <input type="hidden" name="userId" value="${users.userId}">
								        <div class="form-group">
								          <label class="control-label col-sm-2" for="title">제목:</label>
								          <div class="col-sm-10">
								            <input type="text" class="form-control" id="title" name="title" placeholder="Enter title">
								          </div>
								        </div>
								         <div class="form-group">
								          <label class="control-label col-sm-2" for="contents">내용:</label>
								          <div class="col-sm-10">
								            <textarea rows="7" class="form-control" id="contents" name="contents"></textarea>
								          </div>
								        </div>        
								        <div class="form-group">
								          <label class="control-label col-sm-2" for="writer">작성자:</label>
								          <div class="col-sm-10">
								            <input type="text" class="form-control" id="writer" name="writer" value="${users.userName }" readonly="readonly" >
								          </div>
								        </div>
								        <div class="form-group">
								          <div class="col-sm-offset-2 col-sm-10">
								          
								            <button type="button" onclick="goInsert()" class="small button">글쓰기</button>
								            <button type="reset" class="small red button" id="cancle">취소</button>
								            <button type="button" onclick="goBack()" class="small blue button" >뒤로가기</button>
								          </div>
								        </div>
								      </form>   
									
									</div>
									<!-- 페이지 -->
									<!-- 페이지 -->


							

								<!-- 게시판 검색 시작 { -->
								<div class="bo_sch_wrap">
									<fieldset class="bo_sch">
										<h3>검색</h3>
										<form name="fsearch" method="get">
											<input type="hidden" name="bo_table" value="Python">
											<input type="hidden" name="sca" value="">
											<input type="hidden" name="sop" value="and">
											<label	for="sfl" class="sound_only">검색대상</label>
											 <select name="sfl"	id="sfl">
												<option value="wr_subject">제목</option>
												<option value="wr_content">내용</option>
												<option value="wr_subject||wr_content">제목+내용</option>
												<option value="wr_name,1">글쓴이</option>
												<option value="wr_name,0">글쓴이(코)</option>
											</select>
											<label for="stx" class="sound_only">검색어
											<strong	class="sound_only"> 필수</strong>
											</label>
											<div class="sch_bar">
												<input type="text" name="stx" value="" required id="stx"
													class="sch_input" size="25" maxlength="20"
													placeholder=" 검색어를 입력해주세요">
												<button type="submit" value="검색" class="sch_btn">
													<i class="fa fa-search" aria-hidden="true"></i><span
														class="sound_only">검색</span>
												</button>
											</div>
											<button type="button" class="bo_sch_cls" title="닫기">
												<i class="fa fa-times" aria-hidden="true"></i><span
													class="sound_only">닫기</span>
											</button>
										</form>
									</fieldset>
									<div class="bo_sch_bg"></div>
								</div>

								<!-- } 게시판 검색 끝 -->
								
								<div class="boo_sch_wrap">
									<fieldset class="boo_sch">
										<h3>회원가입</h3>
										<form id="Mjoin" name="fsearch" method="post">
											<div class="form-group">
												<input type="text" class="form-control form-control-lg" name="userId" id="MuserId" placeholder="ID" required oninput = "checkId()">
													<span class="id_ok">사용 가능한 아이디입니다.</span>
													<span class="id_already">누군가 이 아이디를 사용하고 있어요.</span>
											</div>																					
											<div class="form-group">
												<input type="password" class="form-control form-control-lg" name="userPwd" placeholder="Password">
											</div>
											<div class="form-group">
							                	<input type="text" class="form-control form-control-lg" name="userName" placeholder="Nickname">
							                </div>
							                <div class="mt-3">
                								<input type="submit" onclick="goJoin()" style="height:50px" class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn" value="JOIN">
                							</div>
											
											<button type="button" class="boo_sch_cls" title="닫기">
												<i class="fa fa-times" aria-hidden="true"></i><span
													class="sound_only">닫기</span>
											</button>
										</form>
									</fieldset>
									<div class="boo_sch_bg"></div>
								</div>
								
								
								
								
								

							</div>


						</div>


						<div id="aside">

							<!-- 로그인 전 아웃로그인 시작 { -->
							<section id="ol_before" class="ol">
								<div id="ol_be_cate"></div>
								<c:if test="${empty users}">
								<form id="frm" class="form-inline" action="MLogin.do" method="post">
								  <div class="form-group">
								    <label for="userId">ID:</label>
								    <input type="text" class="form-control" id="userId" name="userId" >
								   
								  </div>
								  <div class="form-group">
								    <label for="userPwd">PWD:</label>
								    <input type="password" class="form-control" id="userPwd" name="userPwd">
								  </div>		  
								  <button type="submit" onclick="loginFn()" class="btn btn-default btn-sm" stlye="display:inline">로그인</button>
								  <button type="button" class="btn_boo_sch btn_b01 btn" class="btn btn-default btn-sm">회원가입</button>
								  
								 								  
								  
								  
								</form>
								</c:if>
								
								<c:if test="${!empty users}">
								<form action="MLogout.do" method="get">
								<div class="form-group">
									<label class="ilogin">${users.userName}님 </label>
									<br><br>
									<strong>방문을 환영합니다.</strong>
									<button class="snip1535">로그아웃</button>		
								</div>
								</form>
								</c:if>
								
								
								
								
								
								
								
							</section>
							
							
							<div class="w3-content w3-section" style="max-width:500px">
							  <img class="mySlides" src="resources/img/js/js1.png" style="width:100%">
							  <img class="mySlides" src="resources/img/js/js2.png" style="width:100%">
							  <img class="mySlides" src="resources/img/js/js3.png" style="width:100%">
							</div>
							<br><br><br>
							<div class="w3-content w3-section" style="max-width:500px">
							  <img class="mySlides1" src="resources/img/css/css1.png" style="width:100%">
							  <img class="mySlides1" src="resources/img/css/css2.png" style="width:100%">
							  <img class="mySlides1" src="resources/img/css/css3.png" style="width:100%">
							</div>
							
							
							
						</div>
					</div>
				</div>

				<div id="ft">
					<div id="ft_wr">
						<div id="ft_link" class="ft_cnt">
							<a href="#">회사소개</a> <a
								href="#">개인정보처리방침</a> <a
								href="#">서비스이용약관</a> 
						</div>
						<div id="ft_company" class="ft_cnt">
							<h2>사이트 정보</h2>
							<p class="ft_info">
								대표: <br> 개인정보관리책임자 : <br> kakao: <br>
							</p>
						</div>

						<div class="notice ft_cnt">
							<h2>
								<a href="#">공지사항</a>
							</h2>
							<ul>
								<li><a href="#"><span class="cnt_cmt"></span></a></li>
								<li><a href="#"><span class="cnt_cmt"></span></a></li>
								<li><a href="#"><span class="cnt_cmt"></span></a></li>
								<li><a href="#"><span class="cnt_cmt"></span></a></li>
							</ul>
						</div>


						<!-- 접속자집계 시작 { -->
						<section id="visit" class="ft_cnt">
							<h2>접속자집계</h2>
							<dl>
								<dt>
									<span></span> 오늘
								</dt>
								<dd>
									<strong>9</strong>
								</dd>
								<dt>
									<span></span> 어제
								</dt>
								<dd>
									<strong>10</strong>
								</dd>
								<dt>
									<span></span> 최대
								</dt>
								<dd>
									<strong>80</strong>
								</dd>
								<dt>
									<span></span> 전체
								</dt>
								<dd>
									<strong>1,740</strong>
								</dd>
							</dl>
						</section>
						<!-- } 접속자집계 끝 -->
					</div>
					
					<div id="ft_copy">
						Copyright copy; <b>sas.com</b> All rights reserved.
					</div>


					

				</div>

				<!-- } 하단 끝 -->
			</nav>
		</header>

	


	<script src="resources/js/jquery-3.6.0.js"></script>
	<script src="resources/js/menu.js"></script>
	<script src="resources/js/common.js"></script>


	<script>
		$(function() {
			$(".gnb_menu_btn").click(function() {
				$("#gnb_all, #gnb_all_bg").show();
			});
			$(".gnb_close_btn, #gnb_all_bg").click(function() {
				$("#gnb_all, #gnb_all_bg").hide();
			});
		});
	</script>
	<script>
		jQuery(function($) {
			// 게시판 검색
			$(".btn_bo_sch").on("click", function() {
				$(".bo_sch_wrap").toggle();
			})
			$('.bo_sch_bg, .bo_sch_cls').click(function() {
				$('.bo_sch_wrap').hide();
			});
		});
		
		
		jQuery(function($) {
			// 게시판 검색
			$(".btn_boo_sch").on("click", function() {
				$(".boo_sch_wrap").toggle();
			})
			$('.boo_sch_bg, .boo_sch_cls').click(function() {
				$('.boo_sch_wrap').hide();
			});
		});
		
		
	</script>
	
	<script>
	$(document).ready(()=>{
		// 게시판 리스트 가져오기
		loadList();
				
	});
	function loadList(){
		// Controller 에게 게시판 리스트를 요청하기(boardAjaxList.do)
		$.ajax({
			url : "boardAjaxList.do", 
			type : "get",  //요청 타입
			//data : { key : value  },
			dataType: "json",  //받는 타입   [{   },{   },{   }]
			success : resultHtml, //콜백함수
			error : function(){
				alert("error");
			}
						
		});		
	}
	function resultHtml(jsonList){  // jsonList -> [{   },{   },{   }]
		// 동적으로 게시판 리스트를 만드는 작업
		var view="<table class='table table-hover table-bordered '>";
		view+="<tr>";
		view+="<td>번호</td>";
		view+="<td>제목</td>";
		view+="<td>작성자</td>";
		view+="<td>작성일</td>";
		view+="<td>조회수</td>";
		view+="<td>댓글수</td>";
		
		if(${!empty users}){
			
		view+="<td>수정</td>";	
		view+="<td>삭제</td>";
		}else{
			
		}
		
		view+="</tr>";
		// $.each  반복문
		$.each(jsonList,function(index,obj){
			view+="<tr>";
			view+="<td id='i"+index+"'>"+obj.idx+"</td>";
			view+="<td id='t"+obj.idx+"'><a href='javascript:goView("+index+")'>"+obj.title+"</a></td>";
			view+="<td id='w"+obj.idx+"'>"+obj.writer+"</td>";
			view+="<td>"+obj.indate+"</td>";
			view+="<td id='count"+index+"'>"+obj.count+"</td>";
			view+="<td id='comment"+index+"'>"+obj.comment+"</td>";
			
			if(${!empty users}){				
				// 로그인 O -> 자신의 글만 클릭
				if("${users.userId}"==obj.userId){
					view+="<td id='u"+obj.idx+"'><button class='small button' onclick='goUpdate2("+obj.idx+")'>제목수정</button></td>";
					view+="<td><button class='small button' onclick='goDel("+obj.idx+")'>삭제</button></td>";
				}else{
					//view+="<td id='u"+obj.idx+"'><button style='display:none' class='btn btn-info btn-sm' onclick='goUpdate2("+obj.idx+")'>제목수정</button></td>";
					//view+="<td><button style='display:none' class='btn btn-warning btn-sm' onclick='goDel("+obj.idx+")'>삭제</button></td>";
				}
			}else{
				// 로그인 x
				//view+="<td id='u"+obj.idx+"'><button style='display:none' class='btn btn-info btn-sm' onclick='goUpdate2("+obj.idx+")'>제목수정</button></td>";
				//view+="<td><button style='display:none' class='btn btn-warning btn-sm' onclick='goDel("+obj.idx+")'>삭제</button></td>";
			}
			
			
			
			view+="</tr>";
			view+="<tr id='cv"+index+"' style='display:none'>";
			view+="<td>내용</td>"
			view+="<td colspan='7'><textarea id='c"+obj.idx+"' rows='7' class='form-control'>"+obj.contents+"</textarea>";
			view+="<br>";
			
			
			if(${!empty users}){				
				// 로그인 O -> 자신의 글만 클릭
				if("${users.userId}"==obj.userId){
					view+="<button class='small button' onclick='goUpdate("+obj.idx+")'>수정</button>&nbsp;&nbsp;";
					view+="<button class='small blue button' onclick='clea("+obj.idx+")'>초기화</button>&nbsp;&nbsp;";
				}else{
					//view+="<button style='display:none' class='btn btn-primary btn-sm' onclick='goUpdate("+obj.idx+")'>수정</button>&nbsp;&nbsp;";
					//view+="<button style='display:none' class='btn btn-success btn-sm' onclick='clea("+obj.idx+")'>초기화</button>&nbsp;&nbsp;";
				}
			}else{
				// 로그인 x
				//view+="<button style='display:none' class='btn btn-primary btn-sm' onclick='goUpdate("+obj.idx+")'>수정</button>&nbsp;&nbsp;";
				//view+="<button style='display:none' class='btn btn-success btn-sm' onclick='clea("+obj.idx+")'>초기화</button>&nbsp;&nbsp;";
			}
			
			
			
			
			view+="<button class='small red button' onclick='winclose("+index+")' >닫기</button>";
			view+="</td>";	
			view+="</tr>";
			
		});  //each(반복할데이터,처리할 함수)
		if(${!empty users}){
		view+="<tr>"
		view+="<td colspan='8'>"
		view+="<button class='small green button' onclick='goWrite()'>글쓰기</button>"
		view+="</td>"
		view+="</tr>"		
		}
		
		
		
		
		
		
		
		
		
		
		
		
		view+="</table>";
		
		view+="<nav aria-label='Page navigation example'>"
			view+="<ul class='pagination'>"
			view+="<li class='page-item'><a class='page-link' href='#'>Previous</a></li>"
			view+="<li class='page-item'><a class='page-link' href='#'>1</a></li>"
			view+="<li class='page-item'><a class='page-link' href='#'>2</a></li>"
			view+="<li class='page-item'><a class='page-link' href='#'>3</a></li>"
			view+="<li class='page-item'><a class='page-link' href='#'>Next</a></li>"
			view+="</ul>"
			view+="</nav>"
		// html ,text ,append, 등등
		$("#body1").html(view);
	}
	
	 function checkId(){
	        var MuserId = $('#MuserId').val(); //id값이 "id"인 입력란의 값을 저장
	        $.ajax({
	            url:'uesrAjaxIdCheck', //Controller에서 인식할 주소
	            type:'post', //POST 방식으로 전달
	            data:{"userId":MuserId},
	            success:function(cnt){
	            	console.log(cnt)
	            
	            	if(cnt != 1){ //cnt가 1이 아니면(=0일 경우) -> 사용 가능한 아이디 
	                    $('.id_ok').css("display","inline-block"); 
	                    $('.id_already').css("display", "none");
	                } else { // cnt가 1일 경우 -> 이미 존재하는 아이디
	                    $('.id_already').css("display","inline-block");
	                    $('.id_ok').css("display", "none");
	                }
	            	
	            	
	            },
	            error:function(){
	                alert("에러입니다");
	            }
	        });
	    }
	
	
	function goUpdate2(idx){
		var oldTitle = $("#t"+idx).text();
		var newTitle="<input type='text' id='nt"+idx+"' class='form-control' value='"+oldTitle+"'>";
		$("#t"+idx).html(newTitle);
		
		
		
		var newUpdate = "<button class='btn btn-primary btn-sm' onclick='updateFn("+idx+")'>수정하기</button>";
		$("#u"+idx).html(newUpdate);
	}
	
	
	function goJoin(){
		
		var jData = $("#Mjoin").serialize();
		$.ajax({
			url : "userAjaxInsert.do",
			type : "post",
			data : jData,
			success : loadList,
			error : function(){
				alert("error!@!");
			}
	
		});
	
	}
		
	
	
	function updateFn(idx){
		var title = $("#nt"+idx).val();
		
		
		$.ajax({
			url : "boardAjaxTitleWriterUpdate.do",
			type : "post",
			data : {"idx":idx,"title":title},
			success : loadList,
			error : function(){
				alert("error");
			}						
		})
	}
	
	
	function goDel(idx){
		
		$.ajax({
			url : "boardAjaxDelete.do",
			type : "get",
			data : {"idx" : idx },
			success : loadList,
			error : function(){
				alert("error");
			}		
		})
	}
	
	
	
	function goUpdate(idx){
		// 수정할 내용을 가져오기
		var contents = $("#c"+idx).val();
		$.ajax({
			url : "boardAjaxContentUpdate.do",
			type : "post",
			data : {"idx":idx,"contents":contents },
			success : loadList,
			error : function(){
				alert("error");
			}			
		})
	}
	
	
	function clea(index){
		$("#c"+index).html("");
	}
	
	function goView(index){
		
		if($("#cv"+index).css("display")=="none"){					
			$("#cv"+index).css("display","table-row");
			
		}else{					
			$("#cv"+index).css("display","none");
			
		}		
		if($("#cv"+index).css("display")!="none"){
		var idx = $("#i"+index).text()
		$.ajax({
			url : "boardAjaxCount.do",  // ---> 누적 --> idx 전송
			type : "get",
			data : { "idx" : idx},
			dataType : "json",
			success : function(data){
				// open(block) -> close(none,table-row), close -> open
				
				$("#count"+index).text(data.count);
				
				
				// 보이게 할때 block로 해야하는데 colspan 이 안먹힘. 그래서 table-row 로 해야된다.		
			},
			error : function(){
				alert("error");
			}		
		});
		
		
		}
		
		
	}
	
	function winclose(index){
		$("#cv"+index).css("display","none");
	}
	
	
	
	function goWrite(){
		// 리스트 div를 숨기고 -> 글쓰기 화면이 나오게
		$("#body1").css("display","none");
		$("#body2").css("display","block");
	}
	
	function goInsert(){
		// form에 있는 파라미터 3개(title,contents,wirter)의 값을 가져오기
		//  var title = $("#title").val();
		var fData = $("#frm").serialize();
		$.ajax({
			url : "boardAjaxInsert.do",
			type : "post",
			data : fData,
			success : loadList,
			error : function(){
				alert("error");
			}
			
		});
		
		// $("#title").val("");
		
		//취소버튼을 눌러 초기화 시키자.
		$("#cancle").trigger("click");
			
		$("#body1").css("display","block");
		$("#body2").css("display","none");
		
	}
	
	function goBack(){
		$("#body1").css("display","block");
		$("#body2").css("display","none");
	}
	
	
	
	
	</script>
	
	
	
	
	<!--  옆에 배너 자동 슬라이드 -->
	<script>
	
	var myIndex = 0;
	carousel();

	function carousel() {
	    var i;
	    var x = document.getElementsByClassName("mySlides");
	    for (i = 0; i < x.length; i++) {
	       x[i].style.display = "none";  
	    }
	    myIndex++;
	    if (myIndex > x.length) {myIndex = 1}    
	    x[myIndex-1].style.display = "block";  
	    setTimeout(carousel, 2000); // Change image every 2 seconds
	}
	
	
	var myIndex_1 = 0;
	carousel_1();

	function carousel_1() {
	    var i_1;
	    var x_1 = document.getElementsByClassName("mySlides1");
	    for (i_1 = 0; i_1 < x_1.length; i_1++) {
	       x_1[i_1].style.display = "none";  
	    }
	    myIndex_1++;
	    if (myIndex_1 > x_1.length) {myIndex_1 = 1}    
	    x_1[myIndex_1-1].style.display = "block";  
	    setTimeout(carousel_1, 2000); // Change image every 2 seconds
	}
	
	
	


	</script>





</body>
</html>